> 配件接口规格 27 版
> Accessory Interface Specification - Release R27

# Contents

* Introduction
    * 1. Introduction
        * 1.1 Purpose of This Specificaiton
        * 1.2 Organization
        * 1.3 Applicability
        * 1.4 Requirements, Recommendations, and Permissions
        * 1.5 Developer Preview
        * 1.6 Manufacturer Preview
        * 1.7 Terminology
            * 1.7.1 Accessory, Device and Product
            * 1.7.2 Authentication Corprocessor
            * 1.7.3 I2C Bus
            * 1.7.4 Challenge
            * 1.7.5 Challenge Response
            * 1.7.6 X.509 Certificate
            * 1.7.7 Component
            * 1.7.8 Feature
            * 1.7.9 USB Device Mode and USB Host Mode
            * 1.7.10 iAP
            * 1.7.11 Direct User Action
* Accessories
    * 2. All Accessories
        * 2.1 Minimum Apple Device Compatibility
        * 2.2 Development Tools and Emulators
        * 2.3 Reference Designs & Development Kits
        * 2.4 Accessory Authentication and Accessory Identification
        * 2.5 iAP
        * 2.6 Connector Modifications
        * 2.7 Connector Assemblies
        * 2.8 Adapters and Proxies
        * 2.9 Mixed 30-pin and Lightning Connectors
        * 2.10 Mixed Headset Jack and Lightning Connectors
        * 2.11 Apple USB Power Adapters
        * 2.12 Apple Watch Magnetic Charging Cable
        * 2.13 Apple Watch Lug
        * 2.14 Apple Device Detection
        * 2.15 Multiple Simultaneous iAP2 Connections
        * 2.16 Disconnecting and Reconnecting
        * 2.17 Presentation of Apple Device Updates
        * 2.18 Relationships Between Multiple Accessories
        * 2.19 iBeacon
        * 2.20 Feature Duplication
        * 2.21 Temperature Range
        * 2.22 Integrated USB Receptacles
        * 2.23 Integrated Non-USB Receptacles
        * 2.24 User Supplied Cables and Power Supplies
        * 2.25 Removable Storage
        * 2.26 TDMA Noise
        * 2.27 Attachments
        * 2.28 Magnetic Interference
        * 2.29 Radio Frequency (RF) Performance
            * 2.29.1 Materials and Coatings
            * 2.29.2 Antenna Keep-Out
            * 2.29.3 Over The Air (OTA)
            * 2.29.4 Near Field Communication (NFC)
       * 2.30 Test Procedures
           * 2.30.1 RF (OTA)
    * 3. Cases
        * 3.1 Product Design
            * 3.1.1 Device Protection
            * 3.1.2 Access to Inputs and Interconnects
            * 3.1.3 Dock Compatibility
        * 3.2 Acoustics
            * 3.2.1 Call Quality
            * 3.2.2 Speaker to Microphone Coupling
            * 3.2.3 Speaker/Microphone Openings
        * 3.3 Ambient Light Sensor and Proximity Sensor Interference
        * 3.4 Taptic Engine
        * 3.5 Magnetic Interference
        * 3.6 Home Button
        * 3.7 Camera
            * 3.7.1 Geometry
            * 3.7.2 Color
            * 3.7.3 Surface Finish
            * 3.7.4 Image Degradation Examples
        * 3.8 Reliabiliry
            * 3.8.1 Device Insertion and Removal
            * 3.8.2 Colorfastness
        * 3.9 Environmental
        * 3.10 Test Procedures
            * 3.10.1 Required Apple Device Models
            * 3.10.2 Produce Design
            * 3.10.3 Taptic Engine
            * 3.10.4 Home Button Overlays
            * 3.10.5 Acoustics
    * 4. Camera Attachments
        * 4.1 Magnetic Interference
    * 5. Covers
        * 5.1 Magnetic Interference
        * 5.2 Smart Covers
    * 6. Screen Overlays
        * 6.1 Product Design
        * 6.2 Edge Swipe Gestures
        * 6.3 Edge Press Gestures
    * 7. Cables
        * 7.1 All Cables
            * 7.1.1 USB-C to Micro-USB Adapters
            * 7.1.2 Cable Encapsulation
        * 7.2 Captured Cables
        * 7.3 Lightning Charge/Sync Cables (Lightning to USB-A)
        * 7.4 Lightning Accessory Cables (Lightning to USB-B)
        * 7.5 Lightning Audio Headset Cables (Lightning to UAC)
        * 7.6 Lightning Audio Headset Cables (3.5 mm Headset Plug to UAC)
        * 7.7 Lightning Audio Headset Cables (USB-A to UAC)
        * 7.8 Lightning Audio Headset Cables (USB-C to UAC)
        * 7.9 Lightning Audio Headset Cables (Lightning to Analog Headset Plug)
        * 7.10 3.5 mm Headset Cables
        * 7.11 Proprietary Cables (Lightning to Proprietary Connector)
            * 7.11.1 Lightning Audio Accessory Cables
    * 8. Docks
        * 8.1 Backstop
        * 8.2 Flexible Mechanism
        * 8.3 Rests
        * 8.4 Sideways Disconnect
        * 8.5 Test Procedures
            * 8.5.1 iPhone and iPod touch Docks
            * 8.5.2 iPad Docks
            * 8.5.3 iPod nano Docks
    * 9. Dongles
        * 9.1 Lightning Dongles
        * 9.2 Lightning to Micro-USB Adapters
        * 9.3 Product Design
        * 9.4 Test Procedures
            * 9.4.1 Break / Bend Test
    * 10. Headsets
        * 10.1 Product Design
        * 10.2 Audio and Data Interfaces
        * 10.3 Remote Controls
        * 10.4 Native Voice Recognition
        * 10.5 Bundled Extension Cables and Adapters
        * 10.6 Test Procedures
            * 10.6.1 Product Design
            * 10.6.2 Headset Plug
            * 10.6.3 Lightning
            * 10.6.4 Bluetooth
            * 10.6.5 Microphone
            * 10.6.6 Controls
            * 10.6.7 Native Voice Recognition
            * 10.6.8 Bundled Extension Cables and Adapters
    * 11. Headset Adapters
        * 11.1 Product Design
    * 12. Keyboards
        * 12.1 HID Keyboard Requirements
        * 12.2 HID Keyboard Examples
            * 12.2.1 Keyboard Example HID Report Descriptor
            * 12.2.2 Keyboard Usage Example
        * 12.3 Test Procedures
            * 12.3.1 General Requirements
    * 13. Game Controllers
        * 13.1 HID Game Controller Requirements
            * 13.1.1 Gamepad
            * 13.1.2 Switched and Position Encoders
            * 13.1.3 Product Design
            * 13.1.4 Menu Button
            * 13.1.5 Face Button Group
            * 13.1.6 Directional Pad
            * 13.1.7 Shoulder Buttons
            * 13.1.8 Joysticks
            * 13.1.9 LED Array
            * 13.1.10 Hold Switch
            * 13.1.11 Reset Button
            * 13.1.12 Bluetooth
            * 13.1.13 Bluetooth Button
            * 13.1.14 App Match for Controller-Enabled Games
        * 13.2 HID Game Controller Examples
            * 13.2.1 Form-Fitting Gamepad Example HID Report Descriptor
            * 13.2.2 Non Form-Fitting Gamepad Example HID Report Descriptor
        * 13.3 Test Procedures
            * 13.3.1 General Requirements
            * 13.3.2 Bluetooth Controllers
            * 13.3.3 Form-Fitting Controllers
            * 13.3.4 Non Form-Fitting Controllers
            * 13.3.5 Control Surface Layout and Labeling
            * 13.3.6 Control Surfaces
    * 14. Apple AirPods Attachments
        * 14.1 Interference
* Features
    * 15. Accessory Authentication
        * 15.1 Accessory Authentication Requirements
        * 15.2 Accessory Authentication Usage
        * 15.3 Accessory Authentication Examples
            * 15.3.1 Typical Accessory Authentication
            * 15.3.2 Accessory Authentication Failure Due To Invalid Certificate
            * 15.3.3 Accessory Authentication Failure Due To Invalid Response
    * 16. Accessory Identification
        * 16.1 Accessory Identification Requirements
        * 16.2 Accessory Identification Usage
            * 16.2.1 Accessory Identification of Manufacturing Information
            * 16.2.2 Accessory Identification of Sent/Received iAP2 Control Session Messages
            * 16.2.3 Accessory Identification of Power Capabilities
            * 16.2.4 Accessory Identification of iAP2 Transport Components
            * 16.2.5 Additional Accessory Identification Parameters
        * 16.3 Accessory Identification Examples
            * 16.3.1 Typical Accessory Identification
            * 16.3.2 Successful Accessory Identification With Two Tries
            * 16.3.3 Unsuccessful Accessory Identification After Two Tries
            * 16.3.4 Accessory Identification With Information Update
        * 16.4 Test Procesdures
    * 17. Bluetooth Accessory Identification
        * 17.1 HFP Command AT+XAPL
    * 18. Accessory Power
        * 18.1 Requirements
            * 18.1.1 Low Power and Intermittent High Power Modes
            * 18.1.2 Drawing Power From the Apple Device
            * 18.1.3 Low Power Mode
            * 18.1.4 Intermittent High Power Mode
        * 18.2 Usage
            * 18.2.1 Identification
            * 18.2.2 Entering Intermittent High Power Mode
            * 18.2.3 Exiting Intermittent High Power Mode
        * 18.3 Test Procedures
            * 18.3.1 Power Rules over iAP2
            * 18.3.2 Low Power Mode
            * 18.3.3 USB Host Mode
            * 18.3.4 Max Current Drawn Identification
            * 18.3.5 USB Host Mode MIDI Accessory Current Draw
            * 18.3.6 USB Host Mode and EA Protocol Accessory Current Draw
            * 18.3.7 USB Host Mode Audio Accessory Current Draw
            * 18.3.8 Accessory Power and Device Power
    * 19. AirPlay
        * 19.1 Introduction
        * 19.2 User requirements for using AirPlay
            * 19.2.1 Hardware
            * 19.2.2 Network
        * 19.3 AirPlay Accessory Requirements
            * 19.3.1 Accessory Features
            * 19.3.2 Network Requirements
            * 19.3.3 Implementation Requirements
            * 19.3.4 Certification Requirements
        * 19.4 AirPlay Setup Experience
            * 19.4.1 Network configuration example for Wi-Fi networks
            * 19.4.2 Network configuration example for wired networks
        * 19.5 Power States and Accessory Availability
        * 19.6 Bonjour
        * 19.7 Web Interface
        * 19.8 Firmware Update
        * 19.9 AirPlay Accessory User Interface
            * 19.9.1 Required Accessory user interface
            * 19.9.2 Metadata Presentation
            * 19.9.3 Transport controls
            * 19.9.4 Shuffle and Repeat State Controls
            * 19.9.5 Volume Controls
            * 19.9.6 Accessories with multiple inputs
        * 19.10 User Documentation
        * 19.11 Special Considerations for Adapter Accessories
        * 19.12 Accessory Compliance Test Plan for Audio Streaming Accessories
            * 19.12.1 Web Based Firmware Upgrade Test
            * 19.12.2 Generic Firmware Upgrade Test
            * 19.12.3 Link Layer Connection Auto Negotiation for Wired Network
            * 19.12.4 Wi-Fi
            * 19.12.5 Security Mode Verification
            * 19.12.6 IPv4 Connectivity
            * 19.12.7 IPv6 Connectivity
            * 19.12.8 PHY: Wired Performance
            * 19.12.9 PHY: Wireless Performance
            * 19.12.10 Bonjour TXT Records Tests
            * 19.12.11 Bonjour ADD and RMV via browsing
            * 19.12.12 Bonjour TXT Record Lookup
            * 19.12.13 Bonjour IP Lookup
            * 19.12.14 Bonjour TXT Record Change based on Speaker Name Change
            * 19.12.15 Bonjour TXT Record Change based on Speaker Password Protection
            * 19.12.16 Single Audio Stream (iTunes) Tests
            * 19.12.17 Single Audio Stream (iOS) Tests
            * 19.12.18 Single Audio Stream to Multiple Accessories (iTunes) Tests
            * 19.12.19 Accessories with Multiple Inputs Tests
            * 12.12.20 Metadata publishing Tests
            * 12.12.21 AirPlay Password Tests
            * 12.12.22 Accessory Commands (DACP) (iThunes)
            * 12.12.23 Accessory Commands (DACP) (iOS)
            * 12.12.24 Standby State Tests
            * 12.12.25 Wake on LAN Tests
            * 12.12.26 Wake on WLAN Tests
            * 12.12.27 Web Configuration Interface
            * 12.12.28 Audio Delay
            * 12.12.29 Certification Procedure
    * 20. App Launch
        * 20.1 App Launch Requirements
        * 20.2 App Launch Usage
    * 21. App Match
        * 21.1 App Match Requirements
            * 21.1.1 External Accessory Protocol
            * 21.1.2 Team ID
        * 21.2 App Match Usage
            * 21.2.1 External Accessory Protocol
            * 21.2.2 Team ID
    * 22. HID Assistive Switch Control
        * 21.1 HID Assistive Switch Control Requirements
        * 21.2 HID Assistive Switch Control Usage
        * 21.3 HID Assistive Switch Control Examples
            * 21.3.1 Assistive Switch Control HID Report Descriptor
            * 21.3.2 Assistive Switch Control Usage Example
        * 22.4 Test Procedures
            * 22.4.1 Test Cases
    * 23. Assistive Touch
        * 23.1 Assistive Touch Requirements
        * 23.2 Assistive Touch Usage
    * 24. HID Assistive Touch Pointer
        * 24.1 HID Assistive Touch Pointer Requirements
        * 24.2 HID Assistive Touch Pointer Examples
            * 24.2.1 Assistive Touch HID Report Descriptor
            * 24.2.2 Assistive Touch Usage Example
        * 24.3 Test Procedures
            * 24.4.1 Test Cases
    * 25. Bluetooth Headset Battery Level Indication
        * 25.1 HFP Command AT+IPHONEACCEV
    * 26. Bluetooth Pairing and Connection Status
        * 26.1 Bluetooth Connection Requirements
        * 26.2 Bluetooth Connection Usage
        * 26.3 Test Procedures
            * 26.3.1 iAP2 Tests
    * 27. CarPlay
    * 27.1 Additional Specifications
    * 27.2 General Requirements
    * 27.2.1 Overview
    * 27.2.2 Hardware Requirements
    * 27.2.3 Architecture
    * 27.2.4 CarPlay over USB
    * 27.2.5 CarPlay over Wireless
    * 27.2.6 Transitioning Between Wireless and USB
    * 27.2.7 Software Clients
    * 27.2.8 Media Types and Formats
    * 27.3 CarPlay Commu


